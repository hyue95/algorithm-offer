<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>

//深度遍历
/* var numIslands = function(grid) {
  const row = grid.length
  if(row.length === 0) return 0
  const col = grid[0].length
  let count = 0

  for(let i = 0; i < row; i ++){
    for(let j = 0; j < col; j ++){
      if(grid[i][j] === '0') continue
      count ++
      traversal(grid, i, j)
    }
  }
  function traversal(grid, i, j){
    if(i < 0 || i >= row || j < 0 || j >= col || grid[i][j] === '0') return
    grid[i][j] = '0'
    traversal(grid, i - 1, j)
    traversal(grid, i + 1, j)
    traversal(grid, i, j - 1)
    traversal(grid, i, j + 1)
  }
  return count
}; */

var numIslands = function(grid) {
  const row = grid.length
  if(row === 0) return 0
  const col = grid[0].length
  let count = 0
  let queue = []

  for(let i = 0; i < row; i ++){
    for(let j = 0; j < col; j ++){
      if(grid[i][j] === '1'){
        bfs(grid, i, j)
        count ++
      }
      
    }
  }
  function bfs(grid, i, j){
    queue.push([i,j])
    while(queue.length !== 0){
      [i, j] = queue.shift()
      if( i >= 0 && i < row && j >= 0 && j < col && grid[i][j] === '1'){
        grid[i][j] = '0'
        queue.push([i + 1, j], [i - 1, j], [i, j + 1], [i, j - 1])
      } 
    }
  }
  return count
};
console.log(numIslands([
['1','1','1','1','0'],
['1','1','0','1','0'],
['1','1','0','0','0'],
['0','0','0','0','0']
]
))

  </script>
</body>
</html>